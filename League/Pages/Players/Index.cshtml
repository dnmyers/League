@page
@model League.Pages.Players.IndexModel
@{
    ViewData["Title"] = "NFL Players - League";
}

<div class="jumbotron d-flex p-2">
    <h2 class="mr-auto display-3"><img src="~/image/nfl/nfl.png" alt="nfl logo" /> Players</h2>
    <form class="d-flex">
        <div class="form-group pr-2">
            <label asp-for="SelectedTeam" class="col-form-label">
                Team:
            </label>
            <select asp-for="SelectedTeam" class="form-control" asp-items="Model.TeamIDs" onchange="this.form.submit();">
                <option value="">All</option>
            </select>
        </div>
        <div class="form-group pr-2">
            <label asp-for="SelectedPosition" class="col-form-label">Position:</label>
            <select asp-for="SelectedPosition" class="form-control" asp-items="Model.Positions" onchange="this.form.submit();">
                <option value="All">All</option>
            </select>
        </div>
        <div class="form-group pr-2">
            <label asp-for="SearchString" class="col-form-label">Name:</label>
            <input asp-for="SearchString" type="search" class="form-control" />
            <input type="submit" value="Search" class="form-control" />
        </div>
        <div class="form-group pr-2">
            <label asp-for="SortBy" class="col-form-label">Sort By:</label>
            <select asp-for="SortBy" class="form-control" asp-items="Model.SortByList" onchange="this.form.submit();">
                <option value="Name">Name</option>
            </select>
        </div>
    </form>
</div>

<section class="grid">
    <div class="d-flex bg-primary text-white">
        <div style="flex:0 0 10%" class="p-1">Team</div>
        <div style="flex:0 0 10%" class="p-1">Number</div>
        <div style="flex:0 0 25%" class="p-1">Name</div>
        <div style="flex:0 0 10%" class="p-1">Position</div>
        <div style="flex:0 0 20%" class="p-1">Experience</div>
        <div style="flex:0 0 25%" class="p-1">College</div>
    </div>

    @foreach(League.Models.Player Player in Model.Players)
    {
        <a class=@(Player.Depth == 1 ? "d-flex starter p-1" : "d-flex p-1") asp-page="./Player" asp-route-id="@Player.PlayerId">
            <div style="flex:0 0 10%" class="p-1">@Player.TeamId</div>
            <div style="flex:0 0 10%" class="p-1">@Player.Number</div>
            <div style="flex:0 0 25%" class="p-1">@Player.Name</div>
            <div style="flex:0 0 10%" class="p-1">@Player.Position</div>
            <div style="flex:0 0 20%" class="p-1">@Player.Experience</div>
            <div style="flex:0 0 25%" class="p-1">@Player.College</div>
        </a>
    }
</section>